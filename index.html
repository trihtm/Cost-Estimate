<!DOCTYPE html>
<html lang="en" ng-app="costEstimateApp">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Project Cost Estimate</title>

        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="index.css" rel="stylesheet" />

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body ng-controller="costEstimateController as costEstimate">
        <div class="container">
            <div class="page-header">
                <h1>Get an estimate</h1>

                <p>Let us know about your project and get an instant estimation.</p>
            </div>

            <div class="row">
                <div class="col-lg-4">
                    <h3>Our estimation for your project</h3>

                    <hr />

                    <dl class="dl-horizontal">
                        <dt>Total time required:</dt>
                        <dd>{{ Accountant.getRequiredTime() }} hours</dd>

                        <dt>Total cost:</dt>
                        <dd>{{ NumberHelper.format(Accountant.getTotalCost()) }} USD ($)</dd>

                        <dt>Turn over time:</dt>
                        <dd>{{ Accountant.getMandays() }} days</dd>
                    </dl>

                    <hr />

                    <div class="control text-right">
                        <button type="button" class="btn btn-reserve"
                                ng-class="{'btn-primary': Accountant.getStep() == 5}"
                                ng-click="costEstimate.submit()">
                            Arrange a meeting
                        </button>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar"
                             aria-valuenow="{{ Accountant.getProgress() }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ Accountant.getProgress() }}%;">
                            <span class="sr-only">{{ Accountant.getProgress() }}% Complete</span>
                        </div>
                    </div>

                    <h3>1. What type of product you want to build?</h3>

                    <hr />

                    <div class="row">
                        <div class="col-lg-3 text-center" ng-repeat="(key, productGroup) in CONFIG">
                            <button type="button" class="btn btn-default" ng-click="FilledForm.setProductGroup(key)" ng-class="{'btn-primary': FilledForm.getProductGroup() == key}">
                                {{ productGroup.name }}
                            </button>
                        </div>
                    </div>

                    <div ng-if="Accountant.getStep() >= 2">
                        <h3>2. What platforms does it need to work on?</h3>

                        <hr />

                        <div ng-repeat="(productGroupSlug, productGroup) in CONFIG">
                            <div class="row" ng-if="FilledForm.getProductGroup() == productGroupSlug">
                                <div class="col-lg-4 text-center"
                                     ng-repeat="(productTypeSlug, productType) in CONFIG[productGroupSlug]['types']">
                                    <button type="button" class="btn btn-default"
                                            ng-click="FilledForm.setProductType(productTypeSlug)"
                                            ng-class="{'btn-primary': FilledForm.isProductTypeChoosen(productTypeSlug)}">
                                        {{ productType.name }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div ng-if="Accountant.getStep() >= 3">
                        <h3>3. What size is your product?</h3>

                        <hr />

                        <div ng-repeat="(productGroupSlug, productGroup) in CONFIG">
                            <div class="row" ng-if="FilledForm.getProductGroup() == productGroupSlug">
                                <div class="col-lg-3 text-center"
                                     ng-repeat="(productScaleSlug, productScale) in CONFIG[productGroupSlug]['scales']">
                                    <button type="button" class="btn btn-default"
                                            ng-click="FilledForm.setProductScale(productScaleSlug)"
                                            ng-class="{'btn-primary': FilledForm.getProductScale() == productScaleSlug}">
                                        {{ productScale.name }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div ng-if="Accountant.getStep() >= 4">
                        <h3>4. Do you need design service for your product?</h3>

                        <hr />

                        <div ng-repeat="(productGroupSlug, productGroup) in CONFIG">
                            <div ng-if="FilledForm.getProductGroup() == productGroupSlug">
                                <div ng-repeat="(featureSlug, feature) in CONFIG[productGroupSlug]['additional-features']" ng-if="featureSlug == 'design'">
                                    <button type="button" class="btn btn-default"
                                            ng-click="FilledForm.setFeature(featureSlug)"
                                            ng-class="{'btn-primary': FilledForm.isFeatureChoosen(featureSlug)}">
                                        Yes
                                    </button>
                                </div>
                            </div>
                        </div>

                        <h3>5. Do you need more advanced features?</h3>

                        <hr />

                        <div ng-repeat="(productGroupSlug, productGroup) in CONFIG">
                            <div ng-if="FilledForm.getProductGroup() == productGroupSlug">
                                <table class="table table-bordered">
                                    <tr>
                                        <th width="60%">Feature name</th>

                                        <th width="40%">Action</th>
                                    </tr>

                                    <tr ng-repeat="(featureSlug, feature) in CONFIG[productGroupSlug]['additional-features']" ng-if="featureSlug != 'design'">
                                        <td>
                                            {{ feature.name }}
                                        </td>

                                        <td class="text-center">
                                            <div ng-if="feature.extraForm && featureSlug == 'sns-login'">
                                                <div class="checkbox" ng-repeat="(snsSlug, sns) in feature.lists">
                                                    <label>
                                                        <input type="checkbox" name="sns[]" value="{{ snsSlug }}"
                                                            ng-model="FilledForm.__extraFeatures[productGroupSlug][featureSlug][snsSlug]" ng-change="FilledForm.otherServiceFeatureChange()"
                                                        />

                                                        {{ sns.name }}
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="form-inline" ng-if="feature.extraForm && featureSlug == 'other-service-integration'">
                                                <div class="form-group">
                                                    <div class="input-group">
                                                        <input type="number" class="form-control" value="0" min="0" max="99" required="required"
                                                            ng-init="FilledForm.__extraFeatures[productGroupSlug][featureSlug] = 0"
                                                            ng-model="FilledForm.__extraFeatures[productGroupSlug][featureSlug]" ng-change="FilledForm.otherServiceFeatureChange()" />

                                                        <div class="input-group-addon">services</div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div ng-if="!feature.extraForm">
                                                <button type="button" class="btn btn-default"
                                                        ng-click="FilledForm.setFeature(featureSlug)"
                                                        ng-class="{'btn-primary': FilledForm.isFeatureChoosen(featureSlug)}">
                                                    Yes
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div ng-if="Accountant.getStep() >= 4">
                        <h3>6. Choose your product built quality</h3>

                        <hr />

                        <div ng-repeat="(productGroupSlug, productGroup) in CONFIG">
                            <div class="row" ng-if="FilledForm.getProductGroup() == productGroupSlug">
                                <div class="col-lg-4 text-center"
                                     ng-repeat="(qualitySlug, quality) in CONFIG[productGroupSlug]['quality']">
                                    <button type="button" class="btn btn-default"
                                            ng-click="FilledForm.setQuality(qualitySlug)"
                                            ng-class="{'btn-primary': FilledForm.getQuality() == qualitySlug}">
                                        {{ quality.name }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <br />
                </div>
            </div>
        </div>

        <script src="bower_components/angular/angular.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="config.js"></script>
        <script type="text/javascript" src="index.js"></script>
    </body>
</html>